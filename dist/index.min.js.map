{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./utilities/mod11-utilities.ts","webpack:///./utilities/luhn-utilities.ts","webpack:///./utilities/ssn-utilities.ts","webpack:///./validators/ssn-validator.ts","webpack:///../index.ts","webpack:///./validators/account-number-validator.ts","webpack:///./validators/kid-number-validator.ts","webpack:///./validators/organization-number-validator.ts"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getMod11ControlDigit","input","weightNumber","modSum","length","digit","parseInt","charAt","isNaN","remainder","checkMod11ControlDigit","substr","numberOfDigits","controlDigits","push","toString","getLuhnControlDigit","sum","double","checkLuhnControlDigit","ssn","_ssnValidator","validateSsn","birthDate","d1","isDNumber","d2","m1","m2","shortYear","shortYearInt","indInt","birthYear","bd","Date","setUTCFullYear","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","date","getDNumber","getDate","getMonth","y","getFullYear","y3","y4","bdString","indRange","getIndRangeFromYear","c1","c2","ssnStart","indString","Math","floor","random","indEnd","indStart","factorSum","ssnFactors","_mod11Utilities","ssnIndividualNumberMappings","fromYear","toYear","year","validRanges","j","_ssnUtilities","controlDigit1","controlDigit2","_luhnUtilities","keys","forEach","_accountNumberValidator","_kidNumberValidator","_organizationNumberValidator","accountNumber","test","replace","kidNumber","controlDigit","kidWithoutControlDigit","isMod11Compatible","isLuhnCompatible","orgNumber","RegExp"],"mappings":"CAAA,SAAAA,EAAAC,GACA,oBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,SACA,sBAAAG,eAAAC,IACAD,OAAA,GAAAH,OACA,CACA,IAAAK,EAAAL,IACA,QAAAM,KAAAD,GAAA,iBAAAJ,gBAAAF,GAAAO,GAAAD,EAAAC,IAPA,CASCC,OAAA,WACD,mBCTA,IAAAC,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAT,QAGA,IAAAC,EAAAM,EAAAE,GAAA,CACAJ,EAAAI,EACAC,GAAA,EACAV,QAAA,IAUA,OANAW,EAAAF,GAAAG,KAAAX,EAAAD,QAAAC,IAAAD,QAAAQ,GAGAP,EAAAS,GAAA,EAGAT,EAAAD,QA0DA,OArDAQ,EAAAK,EAAAF,EAGAH,EAAAM,EAAAP,EAGAC,EAAAO,EAAA,SAAAf,EAAAgB,EAAAC,GACAT,EAAAU,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CT,EAAAe,EAAA,SAAAvB,GACA,oBAAAwB,eAAAC,aACAN,OAAAC,eAAApB,EAAAwB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAApB,EAAA,cAAiD0B,OAAA,KAQjDlB,EAAAmB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAlB,EAAAkB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFAvB,EAAAe,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAlB,EAAAO,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAtB,EAAA0B,EAAA,SAAAjC,GACA,IAAAgB,EAAAhB,KAAA4B,WACA,WAA2B,OAAA5B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAO,EAAAO,EAAAE,EAAA,IAAAA,GACAA,GAIAT,EAAAU,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD5B,EAAA+B,EAAA,KAIA/B,IAAAgC,EAAA,kCClFM,SAAUC,EAAsBC,GAIpC,IAHA,IAAIC,EAAe,EACfC,EAAS,EAEHvC,EAAIqC,EAAMG,OAAS,EAAGxC,GAAK,EAAGA,IAAM,CAC5C,IAAIyC,EAAQC,SAAUL,EAAMM,OAAQ3C,GAAK,IACzC,GAAK4C,MAAOH,GACV,OAAO,KAETF,GAAUD,EAAeG,IAElBH,EAAe,IACpBA,EAAe,GAInB,IAAMO,EAAcN,EAAS,GAE7B,OAASM,GACP,KAAK,EACH,OAAOA,EACT,KAAK,EACH,OAAO,KACT,QACE,OAAO,GAAKA,GAeZ,SAAUC,EAAwBT,GACtC,OAAOK,SAAUL,EAAMM,OAAQN,EAAMG,OAAS,GAAK,MAASJ,EAAsBC,EAAMU,OAAQ,EAAGV,EAAMG,OAAS,sGAZ9G,SAAiCH,EAAeW,GAEpD,IADA,IAAMC,EAAgB,GACZjD,EAAIgD,EAAgBhD,EAAI,EAAGA,IAAM,CACzC,IAAIS,EAAI2B,EAAsBC,GAC9BY,EAAcC,KAAMzC,GACpB4B,GAAS,OAAS5B,EAAI,IAAMA,EAAE0C,WAGhC,OAAOF,wDAOH,SAAmCZ,EAAeW,GACtD,IAAM,IAAIhD,EAAIgD,EAAgBhD,EAAI,EAAGA,IAAM,CACzC,IAAM8C,EAAwBT,GAC5B,OAAO,EAGTA,EAAQA,EAAMU,OAAQ,EAAGV,EAAMG,OAAS,GAG1C,OAAO,iCCpDH,SAAUY,EAAqBf,GAEnC,IADA,IAAIgB,EAAM,EACArD,EAAIqC,EAAMG,OAAS,EAAGxC,GAAK,EAAGA,GAAK,EAAI,CAC/C,IAAIsD,EAA6C,EAApCZ,SAAUL,EAAMM,OAAQ3C,GAAK,IAC1CqD,GAASC,EAAS,EAAMZ,SAAUY,EAAOH,WAAWR,OAAQ,IAAQD,SAAUY,EAAOH,WAAWR,OAAQ,IAAQW,EAC1GV,MAAOF,SAAUL,EAAMM,OAAQ3C,EAAI,GAAK,OAC5CqD,GAAOX,SAAUL,EAAMM,OAAQ3C,EAAI,GAAK,KAI5C,OAAe,EAANqD,EAAY,GAejB,SAAUE,EAAuBlB,GAErC,OADUe,EAAqBf,EAAMU,OAAQ,EAAGV,EAAMG,OAAS,MAClDE,SAAUL,EAAMM,OAAQN,EAAMG,OAAS,GAAK,oGAdrD,SAAgCH,EAAeW,GAGnD,IAFA,IAAMC,EAA0B,GAEtBjD,EAAIgD,EAAgBhD,EAAI,EAAGA,IAAM,CACzC,IAAIS,EAAI2C,EAAqBf,GAC7BY,EAAcC,KAAMzC,GACpB4B,GAAS5B,EAAE0C,WAGb,OAAOF,sDAQH,SAAkCZ,EAAeW,GACrD,IAAM,IAAIhD,EAAIgD,EAAiB,EAAGhD,GAAK,EAAGA,IACxC,IAAMuD,EAAuBlB,EAAMU,OAAQ,EAAGV,EAAMG,OAASxC,IAC3D,OAAO,EAIX,OAAO,gIC4BH,SAA+BwD,GACnC,KAAM,EAAAC,EAAAC,aAAaF,GACjB,OAAO,KAGT,IAAMG,EAAYH,EAAIT,OAAQ,EAAG,GAC3Ba,EAAKC,EAAUL,IAAQd,SAASiB,EAAUZ,OAAQ,EAAG,GAAK,IAAM,GAAGI,SAAS,IAAMQ,EAAUZ,OAAQ,EAAG,GACvGe,EAAKH,EAAUZ,OAAQ,EAAG,GAC1BgB,EAAKJ,EAAUZ,OAAQ,EAAG,GAC1BiB,EAAKL,EAAUZ,OAAQ,EAAG,GAC1BkB,EAAYN,EAAUZ,OAAQ,EAAG,GACjCmB,EAAexB,SAAUuB,EAAW,IACpCE,EAASzB,SAAUc,EAAIT,OAAQ,EAAG,GAAK,IAEzCqB,EAAY,EAEXD,GAAU,GAAKA,GAAU,IAC5BC,EAAY1B,SAAU,KAAOuB,EAAW,IAC9BE,GAAU,KAAOA,GAAU,KAAOD,GAAgB,IAAMA,GAAgB,GAClFE,EAAY1B,SAAU,KAAOuB,EAAW,IAC9BE,GAAU,KAAOA,GAAU,KAAOD,GAAgB,GAAKA,GAAgB,GACjFE,EAAY1B,SAAU,KAAOuB,EAAW,IAC9BE,GAAU,KAAOA,GAAU,KAAOD,GAAgB,IAAMA,GAAgB,KAClFE,EAAY1B,SAAU,KAAOuB,EAAW,KAG1C,IAAMI,EAAK,IAAIC,KAOf,OANAD,EAAGE,eAAgBH,EAAW1B,SAAUqB,GAAOrB,SAAUsB,EAAI,IAAO,GAAK,IAAMtB,SAAUkB,EAAKE,EAAI,KAClGO,EAAGG,YAAa,GAChBH,EAAGI,cAAe,GAClBJ,EAAGK,cAAe,GAClBL,EAAGM,mBAAoB,GAEhBN,mBAGH,SAAyBO,EAAYC,QAAA,IAAAA,OAAA,GACzC,IAAMnE,EAAImE,EAAcD,EAAKE,UAAY,GAAMF,EAAKE,UAC9ClB,EAAKlD,EAAI,GAAK,IAAMA,EAAEyC,SAAS,IAAIR,OAAO,GAC1CmB,EAAKpD,EAAI,GAAKA,EAAEyC,SAAS,IAAMzC,EAAEyC,SAAS,IAAIR,OAAO,GACrDnC,EAAIoE,EAAKG,WAAa,EACtBhB,EAAKvD,EAAI,GAAK,IAAMA,EAAE2C,SAAS,IAAIR,OAAO,GAC1CqB,EAAKxD,EAAI,GAAKA,EAAE2C,SAAS,IAAM3C,EAAE2C,SAAS,IAAIR,OAAO,GACrDqC,EAAIJ,EAAKK,cACTC,EAAKF,EAAE7B,SAAS,IAAIR,OAAO,GAC3BwC,EAAKH,EAAE7B,SAAS,IAAIR,OAAO,GAG3ByC,EAAWxB,EAAKE,EAAKC,EAAKC,EAAKkB,EAAKC,EAEpCE,EAAWC,EAAoBN,GACrC,GAAI,OAASK,EACX,OAAO,KAGT,IAAIE,EAAK,GACLC,EAAK,GACLC,EAAW,GACXC,EAAY,GAGhB,KAAO,KAAOH,GAAM,KAAOC,GAAI,CAE7B,IADAE,GAAaC,KAAKC,MAAMD,KAAKE,UAAYR,EAASS,OAAST,EAASU,WAAaV,EAASU,UAAU5C,SAAS,IACtGuC,EAAUlD,OAAS,GACxBkD,EAAY,IAAMA,EAEpBD,EAAWL,EAAWM,EAItB,IAFA,IAAIM,EAAY,EAENhG,EAAI,EAAGA,EAAIiG,EAAWzD,OAAQxC,IACtCgG,GAAatD,SAAU+C,EAAS9C,OAAQ3C,GAAK,IAAOiG,EAAYjG,GAKlE,GAAY,MAFZuF,EAAK,GAAOS,EAAY,IAGtBT,EAAK,OACA,GAAY,KAAPA,EACV,SAGF,IAAIjE,GAAI,EAAA4E,EAAA9D,sBAAqBqD,EAAWF,GAEpC,OAASjE,IACXkE,EAAKlE,GAIT,OAAOmE,EAAWF,EAAKC,mEA1JzB,IAAA/B,EAAAtD,EAAA,GACA+F,EAAA/F,EAAA,GAEa8F,EAAa,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,kBAE7C,IAAME,EAA8B,CACzC,CACEC,SAAU,KACVC,OAAQ,KACRN,SAAU,IACVD,OAAQ,KAEV,CACEM,SAAU,KACVC,OAAQ,KACRN,SAAU,IACVD,OAAQ,KAEV,CACEM,SAAU,KACVC,OAAQ,KACRN,SAAU,EACVD,OAAQ,KAEV,CACEM,SAAU,IACVC,OAAQ,KACRN,SAAU,IACVD,OAAQ,MAIN,SAAUR,EAAqBgB,GAGnC,IAFA,IAAMC,EAAc,GAEXvG,EAAI,EAAGA,EAAImG,EAA4B3D,OAAQxC,IAClDsG,GAAQH,EAA4BnG,GAAGoG,UAAYE,GAAQH,EAA4BnG,GAAGqG,QAC5FE,EAAYrD,KAAKiD,EAA4BnG,IAIjD,GAA2B,IAAvBuG,EAAY/D,OACd,OAAO,KAGT,GAA2B,IAAvB+D,EAAY/D,OACd,MAAO,CAACuD,SAAUQ,EAAY,GAAGR,SAAUD,OAAQS,EAAY,GAAGT,QAMpE,IAHA,IAAIC,EAAWQ,EAAY,GAAGR,SAC1BD,EAASS,EAAY,GAAGT,OAEnBU,EAAI,EAAGA,EAAID,EAAY/D,OAAQgE,IAClCT,EAAWQ,EAAYC,GAAGT,WAC5BA,EAAWQ,EAAYC,GAAGT,UAExBD,EAASS,EAAYC,GAAGV,SAC1BA,EAASS,EAAYC,GAAGV,QAK5B,MAAO,CAACC,SAAUA,EAAUD,OAAQA,GA+FhC,SAAUjC,EAAWL,GACzB,OAAM,EAAAC,EAAAC,aAAaF,GAIZd,SAAUc,EAAIb,OAAQ,GAAK,KAAQ,EAHjC,kIC5JL,SAAuBa,GAC3B,IAAMA,GAAsB,KAAfA,EAAIhB,OACf,OAAO,EAKT,IAFA,IAAIwD,EAAY,EAENhG,EAAI,EAAGA,EAAIyG,EAAAR,WAAWzD,OAAQxC,IACtCgG,GAAatD,SAAUc,EAAIb,OAAQ3C,GAAK,IAAOyG,EAAAR,WAAYjG,GAG7D,IAAI0G,EAAgB,GAAOV,EAAY,GAEhB,KAAlBU,IACHA,EAAgB,GAGlB,IAAIC,GAAgB,EAAAT,EAAA9D,sBAAsBoB,EAAIT,OAAQ,EAAGS,EAAIhB,OAAS,IAEtE,OAAOkE,IAAkBhE,SAAUc,EAAIb,OAAQ,GAAK,KAC1CgE,IAAkBjE,SAAUc,EAAIb,OAAQ,IAAM,KAvB1D,IAAAuD,EAAA/F,EAAA,GACAsG,EAAAtG,EAAA,kHCDA,IAAAyG,EAAAzG,EAAA,GAAAW,OAAA+F,KAAAD,GAAAE,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAA2F,EAAAjF,QACA,IAAAuE,EAAA/F,EAAA,GAAAW,OAAA+F,KAAAX,GAAAY,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAAiF,EAAAvE,QACA,IAAA8E,EAAAtG,EAAA,GAAAW,OAAA+F,KAAAJ,GAAAK,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAAwF,EAAA9E,QACA,IAAAoF,EAAA5G,EAAA,GAAAW,OAAA+F,KAAAE,GAAAD,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAA8F,EAAApF,QACA,IAAAqF,EAAA7G,EAAA,GAAAW,OAAA+F,KAAAG,GAAAF,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAA+F,EAAArF,QACA,IAAAsF,EAAA9G,EAAA,GAAAW,OAAA+F,KAAAI,GAAAH,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAAgG,EAAAtF,QACA,IAAA8B,EAAAtD,EAAA,GAAAW,OAAA+F,KAAApD,GAAAqD,QAAA,SAAAnF,GAAA,YAAAA,GAAA,eAAAA,GAAAb,OAAAC,eAAApB,EAAAgC,EAAA,CAAAX,YAAA,EAAAC,IAAA,kBAAAwC,EAAA9B,+GCJM,SAAiCuF,GACrC,IAAM,6BAA6BC,KAAMD,GACvC,OAAO,EAKT,OAFAA,EAAgBA,EAAc/D,WAAWiE,QAAS,MAAO,KAElD,EAAAlB,EAAApD,wBAAwBoE,IATjC,IAAAhB,EAAA/F,EAAA,sGCGM,SAA6BkH,GACjC,IAAMC,EAAeD,EAAU1E,OAAQ0E,EAAU7E,OAAS,GACpD+E,EAAyBF,EAAUtE,OAAQ,EAAGsE,EAAU7E,OAAS,GACjEgF,EAAoB9E,SAAU4E,EAAc,OAAS,EAAApB,EAAA9D,sBAAsBmF,GAC3EE,EAAmB/E,SAAU4E,EAAc,OAAS,EAAAV,EAAAxD,qBAAqBmE,GAE/E,OAAOC,GAAqBC,GAT9B,IAAAvB,EAAA/F,EAAA,GACAyG,EAAAzG,EAAA,+GCCM,SAAsCuH,GAE1C,KADAA,EAAYA,EAAUN,QAAS,IAAIO,OAAQ,MAAQ,MACX,IAArBD,EAAUlF,OAC3B,OAAO,EAGT,OAAOE,SAAUgF,EAAU/E,OAAQ+E,EAAUlF,OAAS,GAAK,OAAS,EAAA0D,EAAA9D,sBAAsBsF,EAAU3E,OAAQ,EAAG2E,EAAUlF,OAAS,KARpI,IAAA0D,EAAA/F,EAAA","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","export function getMod11ControlDigit( input: string ): number | null {\n  let weightNumber = 2;\n  let modSum = 0;\n\n  for ( let i = input.length - 1; i >= 0; i-- ) {\n    let digit = parseInt( input.charAt( i ), 10 );\n    if ( isNaN( digit ) ) {\n      return null;\n    }\n    modSum += weightNumber * digit;\n\n    if ( ++weightNumber > 7 ) {\n      weightNumber = 2;\n    }\n  }\n\n  const remainder = ( modSum % 11 );\n\n  switch ( remainder ) {\n    case 0:\n      return remainder;\n    case 1:\n      return null;\n    default:\n      return 11 - remainder;\n  }\n}\n\nexport function getMod11ControlDigits( input: string, numberOfDigits: number ): ( number | null )[] {\n  const controlDigits = [];\n  for ( let i = numberOfDigits; i > 0; i-- ) {\n    let c = getMod11ControlDigit( input );\n    controlDigits.push( c );\n    input += null === c ? '-' : c.toString();\n  }\n\n  return controlDigits;\n}\n\nexport function checkMod11ControlDigit( input: string ): boolean {\n  return parseInt( input.charAt( input.length - 1 ), 10 ) === getMod11ControlDigit( input.substr( 0, input.length - 1 ) );\n}\n\nexport function checkMod11ControlDigits( input: string, numberOfDigits: number ): boolean {\n  for ( let i = numberOfDigits; i > 0; i-- ) {\n    if ( !checkMod11ControlDigit( input ) ) {\n      return false;\n    }\n\n    input = input.substr( 0, input.length - 1 );\n  }\n\n  return true;\n}\n","export function getLuhnControlDigit( input: string ): number {\n  let sum = 0;\n  for ( let i = input.length - 1; i >= 0; i -= 2 ) {\n    let double = parseInt( input.charAt( i ), 10 ) * 2;\n    sum += ( double > 9 ) ? parseInt( double.toString().charAt( 0 ) ) + parseInt( double.toString().charAt( 1 ) ) : double;\n    if ( !isNaN( parseInt( input.charAt( i - 1 ), 10 ) ) ) {\n      sum += parseInt( input.charAt( i - 1 ), 10 );\n    }\n  }\n\n  return ( sum * 9 ) % 10;\n}\n\nexport function getLuhnControlDigits( input: string, numberOfDigits: number ): number[] {\n  const controlDigits: number[] = [];\n\n  for ( let i = numberOfDigits; i > 0; i-- ) {\n    let c = getLuhnControlDigit( input );\n    controlDigits.push( c );\n    input += c.toString();\n  }\n\n  return controlDigits;\n}\n\nexport function checkLuhnControlDigit( input: string ): boolean {\n  const c = getLuhnControlDigit( input.substr( 0, input.length - 1 ) );\n  return c === parseInt( input.charAt( input.length - 1 ), 10 );\n}\n\nexport function checkLuhnControlDigits( input: string, numberOfDigits: number ): boolean {\n  for ( let i = numberOfDigits - 1; i >= 0; i-- ) {\n    if ( !checkLuhnControlDigit( input.substr( 0, input.length - i ) ) ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { validateSsn } from '../validators/ssn-validator';\nimport { getMod11ControlDigit } from './mod11-utilities';\n\nexport const ssnFactors = [ 3, 7, 6, 1, 8, 9, 4, 5, 2 ];\n\nexport const ssnIndividualNumberMappings = [\n  {\n    fromYear: 1854,\n    toYear: 1899,\n    indStart: 500,\n    indEnd: 749\n  },\n  {\n    fromYear: 1940,\n    toYear: 1999,\n    indStart: 900,\n    indEnd: 999\n  },\n  {\n    fromYear: 1900,\n    toYear: 1999,\n    indStart: 0,\n    indEnd: 499\n  },\n  {\n    fromYear: 2000,\n    toYear: 2039,\n    indStart: 500,\n    indEnd: 999\n  }\n];\n\nexport function getIndRangeFromYear( year: number ): {indStart: number, indEnd: number}|null {\n  const validRanges = [];\n\n  for (let i = 0; i < ssnIndividualNumberMappings.length; i++) {\n    if (year >= ssnIndividualNumberMappings[i].fromYear && year <= ssnIndividualNumberMappings[i].toYear) {\n      validRanges.push(ssnIndividualNumberMappings[i]);\n    }\n  }\n\n  if (validRanges.length === 0) {\n    return null;\n  }\n\n  if (validRanges.length === 1) {\n    return {indStart: validRanges[0].indStart, indEnd: validRanges[0].indEnd};\n  }\n\n  let indStart = validRanges[0].indStart;\n  let indEnd = validRanges[0].indEnd;\n\n  for (let j = 1; j < validRanges.length; j++) {\n    if (indStart > validRanges[j].indStart) {\n      indStart = validRanges[j].indStart;\n    }\n    if (indEnd < validRanges[j].indEnd) {\n      indEnd = validRanges[j].indEnd;\n    }\n  }\n\n\n  return {indStart: indStart, indEnd: indEnd};\n}\n\nexport function getBirthDateFromSsn( ssn: string ): Date | null {\n  if ( !validateSsn( ssn ) ) {\n    return null;\n  }\n\n  const birthDate = ssn.substr( 0, 6 );\n  const d1 = isDNumber(ssn) ? (parseInt(birthDate.substr( 0, 1 ), 10) - 4).toString(10) : birthDate.substr( 0, 1 );\n  const d2 = birthDate.substr( 1, 1 );\n  const m1 = birthDate.substr( 2, 1 );\n  const m2 = birthDate.substr( 3, 1 );\n  const shortYear = birthDate.substr( 4, 2 );\n  const shortYearInt = parseInt( shortYear, 10 );\n  const indInt = parseInt( ssn.substr( 6, 3 ), 10 );\n\n  let birthYear = 0;\n\n  if ( indInt >= 0 && indInt <= 499 ) {\n    birthYear = parseInt( '19' + shortYear, 10 );\n  } else if ( indInt >= 500 && indInt <= 749 && shortYearInt >= 54 && shortYearInt <= 99 ) {\n    birthYear = parseInt( '18' + shortYear, 10 );\n  } else if ( indInt >= 500 && indInt <= 999 && shortYearInt >= 0 && shortYearInt <= 39 ) {\n    birthYear = parseInt( '20' + shortYear, 10 );\n  } else if ( indInt >= 900 && indInt <= 999 && shortYearInt >= 40 && shortYearInt <= 99 ) {\n    birthYear = parseInt( '19' + shortYear, 10 );\n  }\n\n  const bd = new Date();\n  bd.setUTCFullYear( birthYear, parseInt( m1 + ( parseInt( m2, 10 ) - 1 ), 10 ), parseInt( d1 + d2, 10 ) );\n  bd.setUTCHours( 0 );\n  bd.setUTCMinutes( 0 );\n  bd.setUTCSeconds( 0 );\n  bd.setUTCMilliseconds( 0 );\n\n  return bd;\n}\n\nexport function getSsnForDate( date: Date, getDNumber: boolean = false ): string|null {\n  const d = getDNumber ? (date.getDate() + 40) : date.getDate();\n  const d1 = d < 10 ? '0' : d.toString(10).charAt(0);\n  const d2 = d < 10 ? d.toString(10) : d.toString(10).charAt(1);\n  const m = date.getMonth() + 1;\n  const m1 = m < 10 ? '0' : m.toString(10).charAt(0);\n  const m2 = m < 10 ? m.toString(10) : m.toString(10).charAt(1);\n  const y = date.getFullYear();\n  const y3 = y.toString(10).charAt(2);\n  const y4 = y.toString(10).charAt(3);\n\n\n  const bdString = d1 + d2 + m1 + m2 + y3 + y4;\n\n  const indRange = getIndRangeFromYear(y);\n  if (null === indRange) {\n    return null;\n  }\n\n  let c1 = 10;\n  let c2 = 10;\n  let ssnStart = '';\n  let indString = '';\n\n\n  while (10 === c1 || 10 === c2) {\n    indString = (Math.floor(Math.random() * (indRange.indEnd - indRange.indStart)) + indRange.indStart).toString(10);\n    while (indString.length < 3) {\n      indString = '0' + indString;\n    }\n    ssnStart = bdString + indString;\n\n    let factorSum = 0;\n\n    for ( let i = 0; i < ssnFactors.length; i++ ) {\n      factorSum += parseInt( ssnStart.charAt( i ), 10 ) * ssnFactors[ i ];\n    }\n\n    c1 = 11 - ( factorSum % 11 );\n\n    if ( c1 === 11 ) {\n      c1 = 0;\n    } else if ( c1 === 10 ) {\n      continue;\n    }\n\n    let t = getMod11ControlDigit(ssnStart + c1);\n\n    if (null !== t) {\n      c2 = t;\n    }\n  }\n\n  return ssnStart + c1 + c2;\n}\n\nexport function isDNumber( ssn: string ): boolean | null {\n  if ( !validateSsn( ssn ) ) {\n    return null;\n  }\n\n  return parseInt( ssn.charAt( 0 ), 10 ) >= 4;\n}\n","import { getMod11ControlDigit } from '../utilities/mod11-utilities';\nimport { ssnFactors } from '../utilities/ssn-utilities';\n\nexport function validateSsn( ssn: string ): boolean {\n  if ( !ssn || ssn.length !== 11 ) {\n    return false;\n  }\n\n  let factorSum = 0;\n\n  for ( let i = 0; i < ssnFactors.length; i++ ) {\n    factorSum += parseInt( ssn.charAt( i ), 10 ) * ssnFactors[ i ];\n  }\n\n  let controlDigit1 = 11 - ( factorSum % 11 );\n\n  if ( controlDigit1 === 11 ) {\n    controlDigit1 = 0;\n  }\n\n  let controlDigit2 = getMod11ControlDigit( ssn.substr( 0, ssn.length - 1 ) );\n\n  return controlDigit1 === parseInt( ssn.charAt( 9 ), 10 )\n         && controlDigit2 === parseInt( ssn.charAt( 10 ), 10 );\n}\n","export * from './src/utilities/luhn-utilities';\nexport * from './src/utilities/mod11-utilities';\nexport * from './src/utilities/ssn-utilities';\nexport * from './src/validators/account-number-validator';\nexport * from './src/validators/kid-number-validator';\nexport * from './src/validators/organization-number-validator';\nexport * from './src/validators/ssn-validator';\n","import { checkMod11ControlDigit } from '../utilities/mod11-utilities';\n\nexport function validateAccountNumber( accountNumber: string ) {\n  if ( !/\\d{11}|\\d{4}\\.\\d{2}\\.\\d{5}/.test( accountNumber ) ) {\n    return false;\n  }\n\n  accountNumber = accountNumber.toString().replace( /\\./g, '' );\n\n  return checkMod11ControlDigit( accountNumber );\n}\n","import { getMod11ControlDigit } from '../utilities/mod11-utilities';\nimport { getLuhnControlDigit } from '../utilities/luhn-utilities';\n\nexport function validateKidNumber( kidNumber: string ) {\n  const controlDigit = kidNumber.charAt( kidNumber.length - 1 );\n  const kidWithoutControlDigit = kidNumber.substr( 0, kidNumber.length - 1 );\n  const isMod11Compatible = parseInt( controlDigit, 10 ) === getMod11ControlDigit( kidWithoutControlDigit );\n  const isLuhnCompatible = parseInt( controlDigit, 10 ) === getLuhnControlDigit( kidWithoutControlDigit );\n\n  return isMod11Compatible || isLuhnCompatible;\n}\n","import { getMod11ControlDigit } from '../utilities/mod11-utilities';\n\nexport function validateOrganizationNumber( orgNumber: string ) {\n  orgNumber = orgNumber.replace( new RegExp( / /g ), '' );\n  if ( !orgNumber || orgNumber.length !== 9 ) {\n    return false;\n  }\n\n  return parseInt( orgNumber.charAt( orgNumber.length - 1 ), 10 ) === getMod11ControlDigit( orgNumber.substr( 0, orgNumber.length - 1 ) );\n}\n"],"sourceRoot":""}